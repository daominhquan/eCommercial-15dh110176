@model IEnumerable<eCommercial.Product>
@using eCommercial;
@{
    /**/

    ViewBag.Title = "CategoryPick";
    Layout = "~/Views/Shared/_Layout.cshtml";
    DefaultConnectionEntities db = new DefaultConnectionEntities();
    string categoryName = db.Categories.Find(ViewBag.idCategory).Category_Name;
}

<p>
    @Html.ActionLink("Home", "Index", "Home")<i class="fa fa-arrow-right fa-fw"></i><a href="@Url.Action("CategoryPick", "Home", new { id = ViewBag.idCategory })">@categoryName</a>
</p>
<div class="w3-container">
    <p>tìm kiếm <span class="badge">@Model.Count()</span> kết quả @categoryName</p>

    @foreach (var item in Model.Take(12))
    {
        <div class="col-md-3 col-lg-3 col-sm-6 col-xs-6" style="max-height:400px;min-height:400px">
            <a href="@Url.Action("DetailsProduct", "Home", new { id = item.Product_ID })" style="text-decoration:none;">
                <div class="w3-display-container">
                    <img style="width:100%;height:200px;object-fit: cover;" src="@item.Image" alt="@item.Product_Name">
                    <div class="w3-display-bottomleft w3-container w3-black">
                        <span>@item.Comment_Product.Count() <i class="fa fa-comment"></i></span>
                    </div>
                </div>
                <div class="w3-center">
                    <p>@item.Product_Name</p>
                    <b class="text-danger">@Convert.ToDecimal(item.Product_Price).ToString("#,##0") <text style="text-decoration:underline">đ</text></b>
                    <div class="w3-row">

                    </div>
                </div>
            </a>
            <div class="row w3-padding">
                <button class=" btn btn-primary w3-half" style="border-radius: 50px 1px 1px 50px;">Thanh Toán</button>
                <button class=" btn btn-default w3-half" style="border-radius: 1px 50px 50px 1px;">Vào giỏ hàng</button>
            </div>
        </div>
    }
    <div class="w3-center">
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                @for (int i = 1; i <= Math.Ceiling((double)Model.Count() / 12); i++)
                {
                    <li class="page-item"><a class="page-link" href="#">@i</a></li>
                }
            </ul>
        </nav>

    </div>
</div>
